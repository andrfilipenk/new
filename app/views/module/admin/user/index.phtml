<?php 
/** @var \Core\Utils\Url $url */
$url        = $this->getDI()->get('url'); 
?>
<h1>User List</h1>
<a href="<?= $url->get('admin/user-create') ?>" class="btn btn-primary mb-2">Add User</a>
<?php if (!empty($users)): ?>
    <table>
        <thead>
            <tr>
                <th>ID</th><th>Name</th><th>Email</th><th>KuhnleID</th><th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <?php foreach ($users as $user): ?>
                <tr>
                    <td><?= htmlspecialchars($user->user_id) ?></td>
                    <td><?= htmlspecialchars($user->name) ?></td>
                    <td><?= htmlspecialchars($user->email) ?></td>
                    <td><?= htmlspecialchars($user->kuhnle_id) ?></td>
                    <td>
                        <a href="<?= $url->get('admin/user-edit/' . $user->user_id) ?>">Edit</a>
                        <a href="<?= $url->get('admin/user-delete/' . $user->user_id) ?>" onclick="return confirm('Delete user?')">Delete</a>
                    </td>
                </tr>
            <?php endforeach; ?>
        </tbody>
    </table>
<?php else: ?>
    <p>No users found.</p>
<?php endif; ?>